<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Waveform Signal Service</title>
    <meta name="description" content="Angel SDK provides access to digital health devices using Bluetooth Low Energy. The SDK is designed for use with Angel health sensor, currently under development by Seraphim Sense Ltd. The information provided on this site is a preview for evaluation purposes only.
">

    <link rel="stylesheet" href="/angel-sdk/protocols/preview/css/main.css">
    <link rel="canonical" href="http://yourdomain.com/angel-sdk/protocols/preview/WaveformSignalService.html">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/angel-sdk/protocols/preview/">Angel Sensor BLE Services - Preview</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <h1 id="waveform-signal-service">Waveform Signal Service</h1>
<p>Service UUID: <code>481d178c-10dd-11e4-b514-b2227cce2b54</code></p>

<p>This service provides access to raw waveform signals sampled by the on-board sensors of the server.</p>

<p>The service was designed to enable research and advanced processing of various bio-feedback signals. The waveform signal access is an experimental features - this protocol will be revised often (see <a href="#protocol_revision">Protocol Revision</a> below).</p>

<p><strong>Note</strong>: the first firwmware revisions of Angel Sensor will only support Optical Waveform and Acceleration Magnitude Waveform signals.</p>

<h2 id="characteristics-summary">Characteristics Summary</h2>

<table>
  <thead>
    <tr>
      <th>Characteristic</th>
      <th>Read</th>
      <th>Write</th>
      <th>Notify</th>
      <th>Indicate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Optical Waveform</td>
      <td> </td>
      <td> </td>
      <td>Y</td>
      <td> </td>
    </tr>
    <tr>
      <td>Acceleration Magnitude Waveform</td>
      <td> </td>
      <td> </td>
      <td>Y</td>
      <td> </td>
    </tr>
    <tr>
      <td>Waveform Signal Feature</td>
      <td>Y</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>Waveform Signal Control Point</td>
      <td> </td>
      <td>Y</td>
      <td>Y</td>
      <td> </td>
    </tr>
    <tr>
      <td>Protocol Revision</td>
      <td>Y</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="optical-waveform-characteristic">Optical Waveform Characteristic</h2>
<p>Characteristic UUID: <code>334c0be8-76f9-458b-bb2e-7df2b486b4d7</code></p>

<table>
  <thead>
    <tr>
      <th>Field name</th>
      <th>Format</th>
      <th>Info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>WavelengthX data point</td>
      <td><a href="https://developer.bluetooth.org/gatt/Pages/FormatTypes.aspx">sint16</a>[]</td>
      <td>Array of optical signal samples. Units: normailized signed 16-bit values. Several data points may be reported per sample, based on the <a href="#number_of_opticals">Number Of Optical Wavelengths</a> below. In this case, the wavelengths will be interleaved thus: W1-point-1, W2-point-1, W1-point-2, W2-point-2, W1-point-3, W2-point-3, and so on (in this example <em>Number Of Optical Wavelengths</em> is 3). Each notification will carry the maximum number of samples that the BLE MTU allows (typically 20B).</td>
    </tr>
  </tbody>
</table>

<h2 id="acceleration-magnitude-waveform-characteristic">Acceleration Magnitude Waveform Characteristic</h2>
<p>Characterisitc UUID: <code>4e92f4ab-c01b-4b5a-b328-699856a7c2ee</code></p>

<p>This characteristic represents the acceleration energy magnitude registered by the tracker. The magnitude is calculated as Euclidean norm of the XYZ acceleration components, that is <em>sqrt(X<sup>2</sup> + Y<sup>2</sup> + Z<sup>2</sup>)</em>.</p>

<table>
  <thead>
    <tr>
      <th>Field name</th>
      <th>Format</th>
      <th>Info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Acceleration Energy Magnitude</td>
      <td><a href="https://developer.bluetooth.org/gatt/Pages/FormatTypes.aspx">sint16</a>[]</td>
      <td>Array of acceleration magnitude samples. Units: <em>g x factor</em>, see <a href="#acceleration_scale_range">Acceleration Scale Range</a> below. Each notification will carry the maximum number of samples that the BLE MTU allows (typically 20B).</td>
    </tr>
  </tbody>
</table>

<h2 id="waveform-signal-feature">Waveform Signal Feature</h2>
<p>Characterisitc UUID: <code>4cb32ae6-0cfe-47dc-a4f6-59f52cdc2910</code></p>

<table>
  <thead>
    <tr>
      <th>Field name</th>
      <th>Format</th>
      <th>Info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Feature Bits</td>
      <td><a href="https://developer.bluetooth.org/gatt/Pages/FormatTypes.aspx">8bit</a></td>
      <td>Bit mask indicating which waveform signal features are supported by this device. See <a href="#feature_flags_bits">below</a>.</td>
    </tr>
    <tr>
      <td><a name="number_of_opticals">Number Of Optical Wavelengths</a></td>
      <td><a href="https://developer.bluetooth.org/gatt/Pages/FormatTypes.aspx">uint8</a></td>
      <td>Denotes the number of different wavelength data points present in each optical waveform sample. Valid range: 1-4. 0 indicates the <em>Optical Waveform</em> feature is not supported.</td>
    </tr>
    <tr>
      <td>Optical Wavelengths</td>
      <td><a href="https://developer.bluetooth.org/gatt/Pages/FormatTypes.aspx">uint16</a>[]</td>
      <td>Array specifying the different wavelengths of the optical signal. Units: <em>nm x 10</em> (e.g. 6255 denotes 625.5 <em>nm</em> in the red spectrum range). The number of elements in array follows the value of the <em>Number Of Optical Wavelengths</em> field above. 0 indicates undisclosed wavelength. This field is not present when the <em>Number Of Optical Wavelength</em> is zero.</td>
    </tr>
    <tr>
      <td>Acceleration Sampling Rate</td>
      <td><a href="https://developer.bluetooth.org/gatt/Pages/FormatTypes.aspx">uint8</a></td>
      <td>Sampling rate for the on-board accelerometer. Units: Hz. Valid values: 1-255. 0 indicates this sensor is not supported.</td>
    </tr>
    <tr>
      <td><a href="acceleration_scale_range">Acceleration Scale Range</a></td>
      <td>8bit</td>
      <td>0: ±2g<br />1: ±4g<br />2: ±8g<br />3:±16g<br />4-7: Reserved</td>
    </tr>
  </tbody>
</table>

<h3 id="feature-flags-bits">Feature Flags Bits</h3>
<p><a name="feature_flags_bits">Feature Flags bit</a> definitions are listed below. 0 indicates the feature is not supported.</p>

<table>
  <thead>
    <tr>
      <th>Bit</th>
      <th>Info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>Optical Waveform</td>
    </tr>
    <tr>
      <td>1</td>
      <td>Acceleration Magnitude Waveform</td>
    </tr>
    <tr>
      <td>2</td>
      <td>Acceleration XYZ Waveform</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Acoustical Waveform</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Gyroscope XYZ Waveform</td>
    </tr>
    <tr>
      <td>5-15</td>
      <td>Reserved</td>
    </tr>
  </tbody>
</table>

<h2 id="waveform-signal-control-point">Waveform Signal Control Point</h2>
<p>Characterisitc UUID: <code>d271ecf2-af6e-4064-ae1e-6b8fd0baaecc</code></p>

<p>TBD in revision 2.</p>

<h2 id="protocol-revision-characteristic">Protocol Revision Characteristic</h2>
<p><a name="protocol_revision"></a>
Characteristic UUID: <code>3b8e7983-133a-4a0f-90fc-82006ed55505</code></p>

<p>This characteristic defines the revision number of the current service specification. Its value is increased whenever this protocol is updated. Ensure the software implementation deals correctly with different revisions of this protocol. This characteristic is a constant value. </p>

<table>
  <thead>
    <tr>
      <th>Field name</th>
      <th>Format</th>
      <th>Info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Protocol Revision</td>
      <td><a href="https://developer.bluetooth.org/gatt/Pages/FormatTypes.aspx">uint8</a></td>
      <td>0-255</td>
    </tr>
  </tbody>
</table>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Angel Sensor BLE Services - Preview</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Angel Sensor BLE Services - Preview</li>
          <li><a href="mailto:while1@angelsensor.com">while1@angelsensor.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/seraphimsense">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">seraphimsense</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/AngelSensor">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">AngelSensor</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Angel SDK provides access to digital health devices using Bluetooth Low Energy. The SDK is designed for use with Angel health sensor, currently under development by Seraphim Sense Ltd. The information provided on this site is a preview for evaluation purposes only.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
